<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="crowbook">
    <meta name="author" content="Élisabeth Henry">
    <meta name="viewport" content="width=device-width">
    <link rel = "icon" href = "images/image_1.svg">
    <title>Crowbook User Guide - ChangeLog</title>
    <link rel = "stylesheet" href = "stylesheet.css" type = "text/css"
          />
    <link rel = "stylesheet" href = "print.css" type = "text/css"
          media = "print" />
   <script>
function on(name) {
    var elements = document.getElementsByClassName(name);
    for (var i = 0; i < elements.length; i++) {
        var elem = elements[i];
        elem.style.backgroundColor = "pink";
    }
}
function off(name) {
    var elements = document.getElementsByClassName(name);
    for (var i = 0; i < elements.length; i++) {
        var elem = elements[i];
        elem.style.backgroundColor = "white";
    }
}

var display_menu = false;
function toggle() {
    if (display_menu == true) {
        display_menu = false;
        document.getElementById("nav").style.left = "-21%";
        document.getElementById("content").style.marginLeft = "0%";
        document.getElementById("menu").style.left = "1em";
/*        if(document.getElementById("top")) {
            document.getElementById("top").style.left = "0";
        }
        if(document.getElementById("footer")) {
            document.getElementById("footer").style.marginLeft = "0%";
        }*/
    } else {
        display_menu = true;
        document.getElementById("nav").style.left = "0";
        document.getElementById("content").style.marginLeft = "20%";
        document.getElementById("menu").style.left = "20%";
/*        if(document.getElementById("top")) {
            document.getElementById("top").style.left = "20%";
        }
        if(document.getElementById("footer")) {
            document.getElementById("footer").style.marginLeft = "20%";
        }*/
    }
}

   </script>


  </head>  
  <body>
  
<script type = 'application/ld+json'>
{
    "@context": "http://schema.org/",
    "@type": "Book",
    "author": "Élisabeth Henry",
    "name": "Crowbook User Guide",
    "version": "0.14.0",
    
    
    "license": "This guide is published under the Creative Commons Attribution-ShareAlike 4.0-International license.",
    "about": "Crowbook allows to render a book written in Markdown in various formats. This is some kind of manual for it, and a way to demonstrate and test it.",
    "inLanguage": "en"




}
</script>
  <nav id = "nav">
    <h2><a href = "index.html">Crowbook User Guide</a></h2>
    <ul>
<li><a href="chapter_000.html#link-1">1. Crowbook</a>
<ul><li><a href="chapter_000.html#link-2">1.1. Example</a></li>
<li><a href="chapter_000.html#link-3">1.2. Installing</a></li>
<li><a href="chapter_000.html#link-6">1.3. Dependencies</a></li>
<li><a href="chapter_000.html#link-7">1.4. Quick tour</a></li>
<li><a href="chapter_000.html#link-8">1.5. Current features</a></li>
<li><a href="chapter_000.html#link-18">1.6. Contributors</a></li>
<li><a href="chapter_000.html#link-19">1.7. Acknowledgements</a></li>
<li><a href="chapter_000.html#link-20">1.8. ChangeLog</a></li>
<li><a href="chapter_000.html#link-21">1.9. Contributing</a></li>
<li><a href="chapter_000.html#link-22">1.10. Library</a></li>
<li><a href="chapter_000.html#link-23">1.11. License</a></li>

</ul>
</li>
<li><a href="chapter_001.html#link-24">2. Arguments</a>
<ul><li><a href="chapter_001.html#link-25">2.1. <code>--create</code></a></li>
<li><a href="chapter_001.html#link-26">2.2. <code>--single</code></a></li>
<li><a href="chapter_001.html#link-27">2.3. <code>--set</code></a></li>
<li><a href="chapter_001.html#link-28">2.4. <code>--list-options</code></a></li>
<li><a href="chapter_001.html#link-29">2.5. <code>--print-template</code></a></li>
<li><a href="chapter_001.html#link-30">2.6. <code>--stats</code></a></li>
<li><a href="chapter_001.html#link-31">2.7. <code>--proofread</code></a></li>
<li><a href="chapter_001.html#link-32">2.8. <code>--autograph</code></a></li>
<li><a href="chapter_001.html#link-34">2.9. <code>--verbose</code></a></li>
<li><a href="chapter_001.html#link-35">2.10. <code>--to</code></a></li>
<li><a href="chapter_001.html#link-37">2.11. <code>--output</code></a></li>
<li><a href="chapter_001.html#link-38">2.12. <code>--lang</code></a></li>

</ul>
</li>
<li><a href="chapter_002.html#link-40">3. The configuration file</a>
<ul><li><a href="chapter_002.html#link-41">3.1. Configuration in an inline YAML block</a></li>
<li><a href="chapter_002.html#link-42">3.2. The list of files</a></li>
<li><a href="chapter_002.html#link-45">3.3. Crowbook options</a></li>
<li><a href="chapter_002.html#link-60">3.4. Full list of options</a></li>

</ul>
</li>
<li><a href="chapter_003.html#link-77">4. Markdown format</a>
<ul><li><a href="chapter_003.html#link-78">4.1. Tables</a></li>
<li><a href="chapter_003.html#link-79">4.2. Footnotes</a></li>
<li><a href="chapter_003.html#link-80">4.3. Superscript and subscript</a></li>
<li><a href="chapter_003.html#link-81">4.4. “Standalone” images</a></li>
<li><a href="chapter_003.html#link-82">4.5. Interactive fiction</a></li>

</ul>
</li>
<li><a href="chapter_004.html#link-83">5. Templates</a>
<ul><li><a href="chapter_004.html#link-84">5.1. Create and edit template</a></li>
<li><a href="chapter_004.html#link-88">5.2. List of templates</a></li>
<li><a href="chapter_004.html#link-102">5.3. List of accessible variables</a></li>

</ul>
</li>
<li><a href="chapter_005.html#link-106">6. Proofreading with Crowbook</a>
<ul><li><a href="chapter_005.html#link-107">6.1. Enabling proofreading</a></li>
<li><a href="chapter_005.html#link-108">6.2. Repetition detection</a></li>
<li><a href="chapter_005.html#link-109">6.3. Grammar checking</a></li>

</ul>
</li>
<li><a href="chapter_006.html#link-112">7. Interactive fiction</a>
<ul><li><a href="chapter_006.html#link-113">7.1. Basics</a></li>
<li><a href="chapter_006.html#link-114">7.2. The interactive fiction renderer</a></li>
<li><a href="chapter_006.html#link-115">7.3. Using Javascript in your interactive fiction</a></li>
<li><a href="chapter_006.html#link-116">7.4. Embedding Makdown in your Javascript code embedded in your Markdown</a></li>
<li><a href="chapter_006.html#link-117">7.5. Conditional blocks</a></li>
<li><a href="chapter_006.html#link-118">7.6. Interactive fiction options</a></li>

</ul>
</li>
<li><a href="chapter_007.html#link-119">8. Tips and tricks</a>
<ul><li><a href="chapter_007.html#link-120">8.1. Using Crowbook with Emacs’ markdown mode</a></li>
<li><a href="chapter_007.html#link-122">8.2. Embedding fonts in an EPUB file</a></li>

</ul>
</li>
<li><a href="chapter_008.html#link-123">9. Contributing</a>
<ul><li><a href="chapter_008.html#link-124">9.1. Internationalization</a></li>

</ul>
</li>
<li><a href="chapter_009.html#link-125">ChangeLog</a>
<ul><li><a href="chapter_009.html#link-126">unreleased</a></li>
<li><a href="chapter_009.html#link-127">0.14.1 (2018-06-01)</a></li>
<li><a href="chapter_009.html#link-128">0.14.0 (2017-11-26)</a></li>
<li><a href="chapter_009.html#link-129">0.14.0-beta (2017-10-08)</a></li>
<li><a href="chapter_009.html#link-130">0.13.0 (2017-07-14)</a></li>
<li><a href="chapter_009.html#link-131">0.12.0 (2017-06-05)</a></li>
<li><a href="chapter_009.html#link-132">0.11.4 (2017-03-21)</a></li>
<li><a href="chapter_009.html#link-133">0.11.3 (2017-03-19)</a></li>
<li><a href="chapter_009.html#link-134">0.11.2 (2017-03-05)</a></li>
<li><a href="chapter_009.html#link-135">0.11.1 (2017-01-05)</a></li>
<li><a href="chapter_009.html#link-136">0.11.0 (2016-12-31)</a></li>
<li><a href="chapter_009.html#link-137">0.10.4 (2016-12-16)</a></li>
<li><a href="chapter_009.html#link-138">0.10.3 (2016-11-19)</a></li>
<li><a href="chapter_009.html#link-139">0.10.2 (2016-10-21)</a></li>
<li><a href="chapter_009.html#link-140">0.10.1 (2016-10-18)</a></li>
<li><a href="chapter_009.html#link-141">0.10.0 (2016-10-18)</a></li>
<li><a href="chapter_009.html#link-142">0.9.1 (2016-09-29)</a></li>
<li><a href="chapter_009.html#link-143">0.9.0 (2016-09-23)</a></li>
<li><a href="chapter_009.html#link-144">0.8.0 (2016-09-19)</a></li>
<li><a href="chapter_009.html#link-145">0.7.0 (2016-09-11)</a></li>
<li><a href="chapter_009.html#link-146">0.6.0 (2016-09-09)</a></li>
<li><a href="chapter_009.html#link-147">0.5.1 (2016-04-14)</a></li>
<li><a href="chapter_009.html#link-148">0.5.0 (2016-04-02)</a></li>
<li><a href="chapter_009.html#link-149">0.4.0 (2016-03-01)</a></li>
<li><a href="chapter_009.html#link-150">0.3.0 (2016-02-27)</a></li>
<li><a href="chapter_009.html#link-151">0.2.2 (2016-02-25)</a></li>
<li><a href="chapter_009.html#link-152">0.2.1 (2016-02-25)</a></li>
<li><a href="chapter_009.html#link-153">0.2.0 (2016-02-25)</a></li>
<li><a href="chapter_009.html#link-154">0.1.0 (2016-02-21)</a></li>

</ul>
</li>
<li><a href="chapter_010.html#link-155">GNU LESSER GENERAL PUBLIC LICENSE</a></li>

</ul>

  </nav>

  <div id = "content">
    <div id = "top"><p id = "para-1294">Crowbook User Guide 0.14.0</p>
</div>
    <div id = "page">
      <header>
        <div id = "menu">
	  <img id = "menu-button" onclick="toggle();"
               src="menu.svg" alt = "Table of contents" title = "Table of contents" />
        </div>
      </header>
      <p class = "prev_chapter">
  <a href = "chapter_008.html">
    « 9. Contributing
  </a>
</p>
      <h1 id = 'link-125'>ChangeLog</h1><h2 id = "link-126">unreleased</h2>
<ul>
<li><p id = "para-798">Moved from <code>pulldown-cmark</code> to <code>comrak</code> for parsing Markdown. This may have some performances drawbacks but allows for a few more features:</p>
<ul>
<li><p id = "para-799">Description lists</p>
</li>
<li><p id = "para-800">Strikethrough</p>
</li>
</ul>
</li>
<li><p id = "para-801">New option:</p>
<ul>
<li><p id = "para-802"><code>crowbook.files_mean_chapters</code> allow to enforce that each files means a chapter break or to make sure that it doesn’t (by default, only true for numbered chapters).</p>
</li>
</ul>
</li>
<li><p id = "para-803">By default, don’t add an empty chapter title for non numbered “chapters” that don’t contain a title.</p>
</li>
<li><p id = "para-804">Now uses <code>reqwest</code> instead of <code>hyper</code> to connect to languagetool/grammalecte.</p>
</li>
<li><p id = "para-805"><code>hyphenation</code> dependency is now optional.</p>
</li>
<li><p id = "para-806">Dependencies update.</p>
</li>
</ul>
<h2 id = "link-127">0.14.1 (2018-06-01)</h2>
<ul>
<li><p id = "para-807"><code>--stats</code> can now display more statistics when used with the <code>--verbose</code> option (if support for advanced statistics is compiled)</p>
</li>
<li><p id = "para-808">LaTeX outputs now make uses of user-defined <code>rendering.chapter</code> and <code>rendering.part</code></p>
</li>
<li><p id = "para-809">Dependencies update</p>
</li>
</ul>
<h2 id = "link-128">0.14.0 (2017-11-26)</h2>
<ul>
<li><p id = "para-810">New option:</p>
<ul>
<li><p id = "para-811"><code>autograph</code> is an autograph added after title.</p>
</li>
</ul>
</li>
<li><p id = "para-812">User interface:</p>
<ul>
<li><p id = "para-813">new argument <code>--autograph</code> prompts for an autograph.</p>
</li>
<li><p id = "para-814"><code>--list-options</code> and <code>--stats</code> now use colours if available.</p>
</li>
<li><p id = "para-815">options description with <code>--list-options</code> are now wrapped.</p>
</li>
</ul>
</li>
<li><p id = "para-816">Bugfixes:</p>
<ul>
<li><p id = "para-817">Preserve errors/warnings order with fancy UI.</p>
</li>
<li><p id = "para-818">Clean secondary bar when there is an error instead of hanging the UI.</p>
</li>
<li><p id = "para-819">LaTeX: fancy headers only applies to fancy pages (not chapter pages).</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-129">0.14.0-beta (2017-10-08)</h2>
<ul>
<li><p id = "para-820">Bugfixes:</p>
<ul>
<li><p id = "para-821">EPUB: escape quotes in content.opf.</p>
</li>
<li><p id = "para-822">LaTeX/PDF: allow hyphenations in typewriter font.</p>
</li>
</ul>
</li>
<li><p id = "para-823">User interface:</p>
<ul>
<li><p id = "para-824">User interface is quite fancier, with progress bars and all</p>
</li>
<li><p id = "para-825">Debug/warning/info levels should be displayed in a more coherent manner</p>
</li>
<li><p id = "para-826">New <code>--no-fancy</code> option if you don’t like the fancy UI (or if it doesn’t work in your terminal)</p>
</li>
<li><p id = "para-827">New <code>--force-emoji</code> option to force emoji usage.</p>
</li>
</ul>
</li>
<li><p id = "para-828">Library interface:</p>
<ul>
<li><p id = "para-829">Removed <code>Book::set_verbosity</code> method (uses a logger library instead).</p>
</li>
</ul>
</li>
<li><p id = "para-830">Now requires rustc &gt;= 1.20.0</p>
</li>
</ul>
<h2 id = "link-130">0.13.0 (2017-07-14)</h2>
<ul>
<li><p id = "para-831">Breaking changes:</p>
<ul>
<li><p id = "para-832">The <code>template.tex</code> template was quite modified. Crowbook now uses custom command for most markdown elements, defined in the template. This allow an user to redefine the way the book is rendered without having to modify Crowbook itself. Unfortunately, as tex templates for previous Crowbook versions won’t work anymore.</p>
</li>
<li><p id = "para-833">the <code>resources.files</code> option is now a YAML list of strings, instead of a comma-seprated string.</p>
</li>
</ul>
</li>
<li><p id = "para-834">Add support for grammalecte grammar checker.</p>
</li>
<li><p id = "para-835"><code>crowbook</code> command takes a new argument, <code>-S</code> or <code>--stats</code> which displays stats on the book (currently, words and characters count).</p>
</li>
<li><p id = "para-836">Interactive fiction:</p>
<ul>
<li><p id = "para-837">Added conditional blocks.</p>
</li>
</ul>
</li>
<li><p id = "para-838">Options:</p>
<ul>
<li><p id = "para-839"><code>output.xxx</code> options can now take the “auto” value, which will infer the output file name based on the book file name.</p>
</li>
<li><p id = "para-840"><code>output</code> is a new option that can specify a series of format to render, with default output file name.</p>
</li>
<li><p id = "para-841"><code>proofread.grammalecte</code> and <code>proofread.grammalecte.port</code> allow respectively to enable grammar checking with Grammalecte and (optionnally) to specify the port to connect.</p>
</li>
<li><p id = "para-842"><code>tex.margin.left</code>, <code>tex.margin.right</code>, <code>tex.margin.bottom</code> and <code>tex.margin.top</code> are new options that allow to specify margins for LaTeX/PDF outputs.</p>
</li>
<li><p id = "para-843"><code>tex.paper_size</code> was renamed <code>tex.paper_size</code>.</p>
</li>
</ul>
</li>
<li><p id = "para-844">HTML:</p>
<ul>
<li><p id = "para-845">Add JSON-LD structured data to the book’s HTML files.</p>
</li>
</ul>
</li>
<li><p id = "para-846">Bugfixes:</p>
<ul>
<li><p id = "para-847">LaTeX: fix rendering of part/chapter (part previously displayed as chapter and its first chapter as part)</p>
</li>
<li><p id = "para-848">EPUB:</p>
<ul>
<li><p id = "para-849">Fix <code>.rule</code> so it is centered despite KOBO CSS injection.</p>
</li>
</ul>
</li>
<li><p id = "para-850">Fix resources/images inclusion when they are symlinks to the actual file.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-131">0.12.0 (2017-06-05)</h2>
<p id = "para-851">This release includes a few new features, such as the possiblity to include Markdown files as section/subsections and not only as chapter, experimental support for superscript and subscript, and yet more experimental support for writing interactive fiction.</p>
<ul>
<li><p id = "para-852">Book configuration file:</p>
<ul>
<li><p id = "para-853">It is now possible to include subchapters using the <code>--</code> command (with one dash per sublevel: <code>--- foo.md</code> will include <code>foo.md</code> as a subsection).</p>
</li>
</ul>
</li>
<li><p id = "para-854">Markdown:</p>
<ul>
<li><p id = "para-855">Added support for superscript and subscript features, using respectively <code>foo^up^</code> or <code>bar~down~</code> syntax.</p>
</li>
</ul>
</li>
<li><p id = "para-856">New options:</p>
<ul>
<li><p id = "para-857"><code>rendering.chapter</code>: change what is displayed in place of “chapter”.</p>
</li>
<li><p id = "para-858"><code>rendering.part</code>: change what is displayed in place of “part”.</p>
</li>
<li><p id = "para-859"><code>html.chapter.template</code> and <code>html.part.template</code> allow to tune a little how the chapters and parts are displayed in HTML.</p>
</li>
<li><p id = "para-860"><code>tex.hyperref</code>, if set to <code>false</code>, will disable hyperrefs for local links. Can be useful for some files.</p>
</li>
<li><p id = "para-861"><code>crowbook.html_as_text</code>, if set to false, will not treat HTML as text but ignore it.</p>
</li>
<li><p id = "para-862"><code>subtitle</code>, as its name suggest, set the subtitle of a book.</p>
</li>
<li><p id = "para-863"><code>crowbook.markdown.superscript</code> can enable or disable superscript/subscript “extension”.</p>
</li>
</ul>
</li>
<li><p id = "para-864">Rendering:</p>
<ul>
<li><p id = "para-865">Change the way chapters are displayed by default.</p>
</li>
<li><p id = "para-866">PDF output now has a better-looking (hopefully) title page.</p>
</li>
<li><p id = "para-867">Internal links are a bit more flexible, e.g. if you link to <code>Readme.html</code> it will now try to link to the chapter corresponding to <code>Readme.md</code>.</p>
</li>
</ul>
</li>
<li><p id = "para-868">Bugfixes:</p>
<ul>
<li><p id = "para-869">LaTeX:</p>
<ul>
<li><p id = "para-870">Fix bug in syntax highlighting.</p>
</li>
<li><p id = "para-871">Fix label placements (and thus navigation inside PDF document).</p>
</li>
</ul>
</li>
<li><p id = "para-872">EPUB:</p>
<ul>
<li><p id = "para-873">Add unnamed but numbered chapters to the TOC.</p>
</li>
<li><p id = "para-874">Fix HTML escaping issue for chapter titles.</p>
</li>
<li><p id = "para-875">Fix the way parts were handled in the TOC.</p>
</li>
</ul>
</li>
<li><p id = "para-876">Book configuration file:</p>
<ul>
<li><p id = "para-877">Fix issue when setting custom number for parts.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p id = "para-878">Crowbook now requires rustc &gt;= 1.17.0</p>
</li>
</ul>
<h2 id = "link-132">0.11.4 (2017-03-21)</h2>
<ul>
<li><p id = "para-879">An image can now be considered standalone even if it is inside a link.</p>
</li>
<li><p id = "para-880">Bugfixes:</p>
<ul>
<li><p id = "para-881">HTML/EPUB: use raw (not HTML rendered) metadata in the places where HTML code is not appropriate. Templates can use this metadata with the <code>foo_raw</code> value.</p>
</li>
<li><p id = "para-882">HTML/EPUB: fix double-escaping/rendering issues in titles.</p>
</li>
<li><p id = "para-883">EPUB:</p>
<ul>
<li><p id = "para-884">Escape title and author before feeding them to epub-builder.</p>
</li>
<li><p id = "para-885">Fix content.opf issue by not rendering first chapter’s title (marked as beginning of document) in <code>&lt;guide&gt;</code>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p id = "para-886">Rendering:</p>
<ul>
<li><p id = "para-887">HTML/EPUB: standalone images are now displayed centered.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-133">0.11.3 (2017-03-19)</h2>
<ul>
<li><p id = "para-888">When crowbook parses the book’s contents, it now detects which features are used. This is useful in various ways:</p>
<ul>
<li><p id = "para-889">The ODT renderer only displays a global warning showing the lists of used features that are not implemented, instead of a warning each time such a feature is encountered.</p>
</li>
<li><p id = "para-890">The LaTeX and HTML/EPUB renderers only initialize <code>syntect</code> (which can take some time) if code blocks are used in the document.</p>
</li>
<li><p id = "para-891">The LaTeX renderer only requires LaTeX packages that are actually used in the document.</p>
</li>
</ul>
</li>
<li><p id = "para-892">Command-line interface:</p>
<ul>
<li><p id = "para-893">Warnings are now displayed by default.</p>
</li>
<li><p id = "para-894">The (undocumented) <code>--debug</code> argument has been removed.</p>
</li>
<li><p id = "para-895">The status of some messages have been modified (“warning” to “debug” or “error” to “warning”).</p>
</li>
</ul>
</li>
<li><p id = "para-896">Deprecated option:</p>
<ul>
<li><p id = "para-897"><code>crowbook.verbose</code> has been deprecated, at it should be set by the CLI.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-134">0.11.2 (2017-03-05)</h2>
<ul>
<li><p id = "para-898">General:</p>
<ul>
<li><p id = "para-899">When there is an error setting an option from the book configuration file (e.g. because it is an invalid key), print an error but do not abort, only ignore this specific option.</p>
</li>
</ul>
</li>
<li><p id = "para-900">New options:</p>
<ul>
<li><p id = "para-901"><code>tex.stdpage</code>: if set to <code>true</code>, will use the <code>stdpage</code> package to render the book according to standards for submitting manuscripts.</p>
</li>
<li><p id = "para-902"><code>rendering.highlight.theme</code> allows to specifies a theme for syntax highlighting (only used if <code>rendering.highlight</code> is set to “syntect”).</p>
</li>
<li><p id = "para-903"><code>html.highlight.theme</code>, <code>epub.highlight.theme</code> and <code>tex.highlight.theme</code> allow to specify a theme for HTML/EPUB/LaTeX renderers (only used with syntect).</p>
</li>
</ul>
</li>
<li><p id = "para-904">Deprecated option:</p>
<ul>
<li><p id = "para-905"><code>proofread.nb_spaces</code>.</p>
</li>
</ul>
</li>
<li><p id = "para-906">Rendering:</p>
<ul>
<li><p id = "para-907"><code>[syntect](https://crates.io/crates/syntect)</code> is now the default for <code>rendering.highlight</code>. Concretely, this means that by default syntax highlighting is now done when <code>crowbook</code> is run instead of using <code>[highlight.js](https://highlightjs.org/)</code>.</p>
</li>
<li><p id = "para-908">EPUB:</p>
<ul>
<li><p id = "para-909">Now sets the “cover-image” property and meta so readers should display cover correctly.</p>
</li>
<li><p id = "para-910">Narrow non-breaking spaces should display more correctly on KOBO ereaders (hoping this won’t break the way they are displayed everywhere else).</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p id = "para-911">Proofreading:</p>
<ul>
<li><p id = "para-912">Repetition detection is now a bit less of an hack, and should cause less problems when used in conjunction with grammar checking. It now also works on PDF output (so the way it is highlighted could be improved).</p>
</li>
</ul>
</li>
<li><p id = "para-913">Bugfixes:</p>
<ul>
<li><p id = "para-914">Fix <code>mimetype</code> of EPUB files (make sure it is always “stored” and not “deflated” by the <code>zip</code> command).</p>
</li>
<li><p id = "para-915">Avoid initializing <code>syntect</code> (at the cost of performances) if it is not used.</p>
</li>
<li><p id = "para-916">Avoid creating an empty file if some book renderer fails (e.g. EPUB or ODT because <code>zip</code> command is not present).</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-135">0.11.1 (2017-01-05)</h2>
<ul>
<li><p id = "para-917">Rendering:</p>
<ul>
<li><p id = "para-918">Avoid page break before or after a separating rule.</p>
</li>
<li><p id = "para-919">Add support for <a href = "https://crates.io/crates/syntect">syntect</a> for syntax highlighting. This is activated by setting <code>rendering.highlight</code> to <code>syntect</code> (see below).</p>
</li>
<li><p id = "para-920">EPUB:</p>
<ul>
<li><p id = "para-921">Set back HTML escape of narrow non-breaking spaces to <code>true</code> by default (it caused problems on some readers, but cause much more serious one if <code>false</code>).</p>
</li>
<li><p id = "para-922">Add more information to guide/nav landmarks.</p>
</li>
</ul>
</li>
<li><p id = "para-923">LaTeX/PDF:</p>
<ul>
<li><p id = "para-924">Improve the way code blocks are displayed, using the <code>mdframed</code> package.</p>
</li>
<li><p id = "para-925">Try to reduce the issues of too long lines when using code and code blocks, by inserting <code>\allowbreak{}</code> directive after some characters (<code>.</code>, <code>/</code>, <code>_</code>, ...).</p>
</li>
<li><p id = "para-926">Block quotes are now displayed in italics.</p>
</li>
<li><p id = "para-927">Tables now use <code>tabularx</code>, which allows to break too long lines (it still doesn’t break pages, though).</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p id = "para-928">New options:</p>
<ul>
<li><p id = "para-929"><code>rendering.highlight</code> can be set to <code>none</code>, <code>highlight.js</code> (by default, enables syntax highlighting via Javascript, but only on HTML document) or <code>syntect</code> (doesn’t necessitate javascript, and can work in EPUB or LaTeX, but more experimental at this point).</p>
</li>
</ul>
</li>
<li><p id = "para-930">Deprecated options:</p>
<ul>
<li><p id = "para-931"><code>html.highlight_code</code> (use <code>rendering.highlight</code> instead).</p>
</li>
</ul>
</li>
<li><p id = "para-932">Bugfixes:</p>
<ul>
<li><p id = "para-933">HTML (standalone): fix the template that contained invalid HTML code.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-136">0.11.0 (2016-12-31)</h2>
<p id = "para-934">Substantial changes in this release, the more important one being support for parts!</p>
<ul>
<li><p id = "para-935"><b>Breaking changes</b>: the API has undergone some breaking changes, hoping they will be the last ones for a while. API should now be more simple and consistent (?). This version contains also substantial options renaming (see below).</p>
</li>
<li><p id = "para-936">Crowbook now supports parts (above the “chapter” level), using the ‘@’ character in the book configuration file.</p>
</li>
<li><p id = "para-937">Command-line interface:</p>
<ul>
<li><p id = "para-938">Behaviour of <code>--to</code> should now be consistent for all output formats.</p>
</li>
<li><p id = "para-939">If <code>--output</code> is set to <code>-</code>, prints to stdout.</p>
</li>
<li><p id = "para-940">Conversely, if <code>&lt;BOOK&gt;</code> is set to <code>-</code>, reads from stdin.</p>
</li>
<li><p id = "para-941">Path specified by <code>--output</code> is now interpreted relatively to current directory (and not depending on where <code>&lt;BOOK&gt;</code> is or its options).</p>
</li>
</ul>
</li>
<li><p id = "para-942">Rendering:</p>
<ul>
<li><p id = "para-943">Chapters with no titles now have an empty title added (so it can at least display e.g. “Chapter X”).</p>
</li>
<li><p id = "para-944">EPUB:</p>
<ul>
<li><p id = "para-945">The <code>toc.ncx</code> file now displays links to “title” and (if set) “cover” (can be deactivated, see below).</p>
</li>
<li><p id = "para-946">The <code>toc.ncx</code> file now displays toc levels below chapter.</p>
</li>
<li><p id = "para-947">The table of contents is now displayed inline if <code>rendering.inline_toc</code> is set to <code>true</code>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p id = "para-948">New options:</p>
<ul>
<li><p id = "para-949"><code>epub.toc.extras</code>, set to <code>true</code> by default, will add links to the title and the cover (if it is set) in the table of contents.</p>
</li>
<li><p id = "para-950"><code>epub.escape_nb_spaces</code>, similar to <code>html.escape_nb_spaces</code> and set to false by default since at least Kobo reader don’t seem to be able to understand the CSS to escape those nb spaces...</p>
</li>
<li><p id = "para-951"><code>rendering.chapter.roman_numerals</code>, if set to <code>true</code>, will display chapter numbers using roman numerals.</p>
</li>
<li><p id = "para-952"><code>rendering.part.roman_numerals</code>, if set to <code>true</code> (it is by default) will display part numbers using roman numerals.</p>
</li>
<li><p id = "para-953"><code>rendering.part.template</code> specifies the numbering scheme of parts.</p>
</li>
<li><p id = "para-954"><code>rendering.part.reset_counter</code>, if set to <code>true</code> (it is by default), resets chapter number to zero after a part.</p>
</li>
</ul>
</li>
<li><p id = "para-955">Renamed options:</p>
<ul>
<li><p id = "para-956"><code>import_config</code> renamed to <code>import</code>.</p>
</li>
<li><p id = "para-957"><code>rendering.chapter_template</code> renamed to <code>rendering.chapter.template</code>.</p>
</li>
<li><p id = "para-958"><code>html_single.html</code> renamed to <code>html.standalone.template</code>.</p>
</li>
<li><p id = "para-959"><code>html_single.js</code> renamed to <code>html.standalone.js</code>.</p>
</li>
<li><p id = "para-960"><code>html_single.one_chapter</code> renamed to <code>html.standalone.one_chapter</code>.</p>
</li>
<li><p id = "para-961"><code>output.html_dir</code> renamed to <code>output.html.dir</code>.</p>
</li>
<li><p id = "para-962"><code>output.proofread.html_dir</code> renamed to <code>output.proofread.html.dir</code>.</p>
</li>
<li><p id = "para-963"><code>html_dir.index.html</code> and <code>html.dir.chapter.html</code> have been merged and both renamed to <code>html.dir.template</code>.</p>
</li>
<li><p id = "para-964"><code>tex.font_size</code> renamed to <code>tex.font.size</code>.</p>
</li>
</ul>
</li>
<li><p id = "para-965">Bugfixes:</p>
<ul>
<li><p id = "para-966">EPUB:</p>
<ul>
<li><p id = "para-967">Fix duplicate HTML escaping (resulting in e.g. “&amp;” instead of “&amp;”).</p>
</li>
</ul>
</li>
<li><p id = "para-968">HTML directory:</p>
<ul>
<li><p id = "para-969">Fix panic when trying to generate html directory in “../xxx” (<a href = "https://github.com/lise-henry/crowbook/issues/23">#23</a>).</p>
</li>
<li><p id = "para-970">Fix “previous chapter” links that were not displayed when “html.header” was set.</p>
</li>
</ul>
</li>
<li><p id = "para-971">HTML:</p>
<ul>
<li><p id = "para-972">Fix the way initial letter is displayed if <code>rendering.initials</code> is true.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p id = "para-973">Internationalization:</p>
<ul>
<li><p id = "para-974">Strings in generated Crowbook documents (such as “Table of contents”, “Title”, “Cover” and such) are now translated in spanish.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-137">0.10.4 (2016-12-16)</h2>
<ul>
<li><p id = "para-975">New options:</p>
<ul>
<li><p id = "para-976"><code>tex.font_size</code> specifies an optional font size (in pt) passed to the LaTeX class (must be 10, 11 or 12).</p>
</li>
<li><p id = "para-977"><code>tex.title</code> can be set to <code>false</code> to avoid rendering the title with <code>\maketitle</code>.</p>
</li>
<li><p id = "para-978"><code>tex.paper_size</code> specifies the paper size for PDF output.</p>
</li>
<li><p id = "para-979"><code>tex.template.add</code>, <code>html.css.add</code> and <code>epub.css.add</code>allow to specify inline LaTex or CSS code in the book configuration file that will be added respectively to <code>tex.template.add</code>, <code>html.css.add</code> and <code>epub.css.add</code>.</p>
</li>
<li><p id = "para-980"><code>html.icon</code> allows to specify the path of an icon for HTML documents.</p>
</li>
</ul>
</li>
<li><p id = "para-981">Command-line interface:</p>
<ul>
<li><p id = "para-982">Paths that are displayed should now be normalized, e.g. “foo/bar.pdf” instead of “baz/../foo/bar.pdf”.</p>
</li>
</ul>
</li>
<li><p id = "para-983">Rendering:</p>
<ul>
<li><p id = "para-984">HTML:</p>
<ul>
<li><p id = "para-985">The default CSS style has been slightly modified.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id = "link-138">0.10.3 (2016-11-19)</h2>
<ul>
<li><p id = "para-986">Building:</p>
<ul>
<li><p id = "para-987">Crowbook now requires rustc &gt;= 1.13.0 to build.</p>
</li>
<li><p id = "para-988">Pre-built binaries now all include the proofreading feature.</p>
</li>
<li><p id = "para-989">Linux binaries are now linked against <code>musl</code> library so they should really work on any Linux platform.</p>
</li>
</ul>
</li>
<li><p id = "para-990">Bugfixes:</p>
<ul>
<li><p id = "para-991">Fixed escaping of <code>author</code> and <code>title</code> fields.</p>
</li>
<li><p id = "para-992">Fixed text cleaning in ODT rendering that causes corrupt files to be generated.</p>
</li>
</ul>
</li>
<li><p id = "para-993">CommandLine Interface:</p>
<ul>
<li><p id = "para-994">Crowbook displays clearer error messages when unable to launch <code>latex</code> or <code>zip</code> commands.</p>
</li>
<li><p id = "para-995">Crowbook uses <code>term</code> library in order to display colours correctly on e.g. Windows.</p>
</li>
<li><p id = "para-996">The new argument <code>--lang</code> (or <code>-L</code>) allows to set the runtime language used by Crowbook, overriding <code>LANG</code> environment variable.</p>
</li>
<li><p id = "para-997"><code>--list-options</code> no longer uses colours as it caused problems depending on the terminal or when piping to <code>less</code>.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-139">0.10.2 (2016-10-21)</h2>
<p id = "para-998">Only minor changes in this version:</p>
<ul>
<li><p id = "para-999">Options:</p>
<ul>
<li><p id = "para-1000"><code>author</code> and <code>title</code>’s default values are both set to the empty string, instead of <code>Anonymous</code> and <code>Untitled</code>.</p>
</li>
<li><p id = "para-1001"><code>input.autoclean</code> has been renamed <code>input.clean</code>.</p>
</li>
<li><p id = "para-1002"><code>input.smart_quotes</code> has been renamed <code>input.clean.smart_quotes</code>.</p>
</li>
<li><p id = "para-1003">new option: <code>input.clean.ligature.dashes</code> will (if set to true) replace <code>--</code> to en dash (<code>–</code>) and <code>---</code> to em dash (<code>—</code>).</p>
</li>
<li><p id = "para-1004">new option: <code>input.clean.ligature.guillemets</code> will (if set to true) replace <code>&lt;&lt;</code> and <code>&gt;&gt;</code> to french guillemets (<code>«</code> and <code>»</code>).</p>
</li>
</ul>
</li>
<li><p id = "para-1005">Rendering:</p>
<ul>
<li><p id = "para-1006">HTML: if <code>html_single.one_chapter</code> and <code>rendering.inline_toc</code> are both set to true, only render the TOC if currently displayed chapter is the first.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-140">0.10.1 (2016-10-18)</h2>
<p id = "para-1007">Fixed a bug in <code>fr.po</code> translation that prevented building from fresh install.</p>
<h2 id = "link-141">0.10.0 (2016-10-18)</h2>
<p id = "para-1008">This release contains some breaking changes (mostly for the API, which has been split in separate libraries). It alse features some internationalization support, and the program should now be tranlated if your <code>LANG</code> environment variable is set to french.</p>
<ul>
<li><p id = "para-1009"><b>Breaking changes</b>:</p>
<ul>
<li><p id = "para-1010">Templates:</p>
<ul>
<li><p id = "para-1011">Conditional inclusion depending on <code>lang</code> must now be done using <code>lang_LANG</code> (e.g. <code>lang_fr</code>, <code>lang_en</code>, and so on). This might impact custom <code>epub.css</code> and <code>html.css</code> templates.</p>
</li>
</ul>
</li>
<li><p id = "para-1012">API:</p>
<ul>
<li><p id = "para-1013">The <code>escape</code> module has been moved to a separate crate, <code>crowbook_text_processing</code>. The <code>cleaner</code> module is no longer public, but the features it provided are also available in <code>crowbook_text_processing</code>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p id = "para-1014">New options:</p>
<ul>
<li><p id = "para-1015"><code>html.css.colours</code> allows to provide a CSS file that only redefine the colour scheme. Such a file can be built from <code>crowbook --print-template html.css.colours</code>.</p>
</li>
<li><p id = "para-1016"><code>input.smart_quotes</code>: if set to <code>true</code>, tries to replace <code>'</code> and <code>"</code> by curly quotes.</p>
</li>
</ul>
</li>
<li><p id = "para-1017">Command line interface:</p>
<ul>
<li><p id = "para-1018">Crowbook is now (imperfectly) localized in french, and can be translated to other languages.</p>
</li>
<li><p id = "para-1019">Added the <code>--quiet</code> (or <code>-q</code>) argument, that makes crowbook run without displaying any messages (except some error messages at this point).</p>
</li>
</ul>
</li>
<li><p id = "para-1020">Rendering:</p>
<ul>
<li><p id = "para-1021">HTML:</p>
<ul>
<li><p id = "para-1022">The table of contents menu is no longer displayed in the HTML single renderer if it doesn’t contain at least two elements.</p>
</li>
<li><p id = "para-1023">The default colour theme has been modified a little.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p id = "para-1024">Bugfixes:</p>
<ul>
<li><p id = "para-1025">Fix the escaping of non-breaking spaces in EPUB, as <code>&amp;nbsp;</code> and its friends aren’t valid entities in XHTML, apparently.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-142">0.9.1 (2016-09-29)</h2>
<p id = "para-1026">This release mainly introduces generation of proofreading copies, allowing, if they are set (and <code>crowbook</code> was compiled with the <code>proofread</code> feature) to generate proofreading copies, using tools to check grammar and detect repetitions. These features are currently experimental.</p>
<ul>
<li><p id = "para-1027">New options:</p>
<ul>
<li><p id = "para-1028"><code>html.escape_nb_spaces</code>, if set to true (by default), will replace unicode non breaking spaces with HTML entites and CSS so it can display correctly even if reader’s don’t have a browser/font supporting these unicode symbols.</p>
</li>
<li><p id = "para-1029">Output files for proofread documents: <code>output.proofread.html</code>, <code>output.proofread.html_dir</code> and <code>output.proofread.pdf</code>.</p>
</li>
<li><p id = "para-1030">Proofread options <code>proofread.repetitions</code> and <code>proofread.nb_spaces</code> have been added.</p>
<ul>
<li><p id = "para-1031"><code>proofread.nb_spaces</code>, if set to true, highlights non-breaking spaces so it is easier to check the correct typography of a book. Note that it requires that <code>html.escape_nb_spaces</code> be set to true (default) to work.</p>
</li>
<li><p id = "para-1032"><code>proofread.reppetitions</code>, if set to true, uses <a href = "https://github.com/lise-henry/caribon">Caribon</a> to highlight repetitions in a document. It also uses the settings <code>proofread.repetitions.fuzzy</code>, <code>proofread.repetitions.max_distance</code>, <code>proofread.repetitions.threshold</code>, <code>proofread.repetitions.fuzzy.threshold</code>, <code>proofread.repetitions.ignore_proper</code>. Note that this feature is not built by default, you’ll have to build crowbook with <code>cargo build --release --features "repetitions"</code>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p id = "para-1033">New default settings for options:</p>
<ul>
<li><p id = "para-1034"><code>tex.command</code> is now <code>xelatex</code> by default.</p>
</li>
</ul>
</li>
<li><p id = "para-1035">Rendering:</p>
<ul>
<li><p id = "para-1036">LaTeX:</p>
<ul>
<li><p id = "para-1037">Add support for xelatex in the default template.</p>
</li>
</ul>
</li>
<li><p id = "para-1038">Improved french cleaner (see <a href = "https://crowdagger.github.io/textes/articles/heuristique.html">an article (in french)</a> that talks about what it does).</p>
</li>
</ul>
</li>
<li><p id = "para-1039">Crowbook user guide: documentation has been updated to correctly reflect 0.9.x options.</p>
</li>
<li><p id = "para-1040">API:</p>
<ul>
<li><p id = "para-1041"><code>clap</code> dependency is now optional, people who want to use Crowbook as a library should include it with <code>crowbook = { version = "0.9", default-features = false }</code>. (<code>clap</code> is still required to build a working binary).</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-143">0.9.0 (2016-09-23)</h2>
<p id = "para-1042">The main objective of this release is to clean public interfaces, in order to limit breaking changes in the future. <em>Ideally</em>, all pre-1.0 releases should thus be 0.9.x. Concretely, this meant three things:</p>
<ul>
<li><p id = "para-1043">reducing the surface of Crowbook’s library API;</p>
</li>
<li><p id = "para-1044">cleaning options names</p>
</li>
<li><p id = "para-1045">cleaning the names exported in templates and document them, in order not to break user-defined templates in future (non-breaking) releases. More detailed changes for this release:</p>
</li>
<li><p id = "para-1046"><b>Breaking change for users</b>: removed <code>tex.short</code> option, replaced by a more generic <code>tex.class</code> (default being <code>book</code>). <code>html.crowbook_link</code> has also been removed.</p>
</li>
<li><p id = "para-1047">Renamed options. Using the old name will print a deprecation warning but will still work for a while.</p>
<ul>
<li><p id = "para-1048"><code>temp_dir</code> -&gt; <code>crowbook.temp_dir</code></p>
</li>
<li><p id = "para-1049"><code>zip.command</code> -&gt; <code>crowbook.zip.command</code></p>
</li>
<li><p id = "para-1050"><code>verbose</code> -&gt; <code>crowbook.verbose</code></p>
</li>
<li><p id = "para-1051"><code>html.print_css</code> -&gt; <code>html.css.print</code></p>
</li>
<li><p id = "para-1052"><code>html.display_chapter</code> -&gt; <code>html_single.one_chapter</code></p>
</li>
<li><p id = "para-1053"><code>html.script</code> -&gt; <code>html_single.js</code></p>
</li>
<li><p id = "para-1054"><code>numbering</code> -&gt; <code>rendering.num_depth</code></p>
</li>
<li><p id = "para-1055"><code>numbering_template</code> -&gt; <code>rendering.chapter_template</code></p>
</li>
<li><p id = "para-1056"><code>display_toc</code> -&gt; <code>rendering.inline_toc</code></p>
</li>
<li><p id = "para-1057"><code>toc_name</code> -&gt; <code>rendering.inline_toc.name</code></p>
</li>
<li><p id = "para-1058"><code>enable_yaml_blocks</code> -&gt; <code>input.yaml_blocks</code></p>
</li>
<li><p id = "para-1059"><code>use_initials</code> -&gt; <code>rendering.initials</code></p>
</li>
<li><p id = "para-1060"><code>autoclean</code> -&gt; <code>input.autoclean</code></p>
</li>
<li><p id = "para-1061"><code>html_dir.css</code> -&gt; <code>html.css</code> (not really renamed, <code>html_dir.css</code> isactually removed as there is no point in having different CSS for standalone and multifile HTML rendering, is it?)</p>
</li>
</ul>
</li>
<li><p id = "para-1062">New options:</p>
<ul>
<li><p id = "para-1063">More metadata: <code>license</code>, <code>version</code> and <code>date</code>. These metadata are not treated by the renderers, but they are exported to the templates: <code>{{{metadata}}}</code> allows to access the content. If they are present, a <code>has_metadata</code> is also set to true, allowing to do something like <code>{{{title}}} {{#has_version}}version {{{version}}} {{/has_version}}</code>.</p>
</li>
<li><p id = "para-1064">Yet more metadata: it is possible to add custom metadata by prefixing it with <code>metadata.</code>. They will then be accessible in the templates, with dots ('.') replaced by underscores ('_'). E.g., with <code>metadata.foo: bar</code> you can access it in your templates with <code>{{{metadata_foo}}}</code>.</p>
</li>
<li><p id = "para-1065"><code>output.base_path</code> specifies a directory where the output files (set by <code>output.FORMAT</code> will be written.</p>
</li>
<li><p id = "para-1066"><code>resources.base_path.templates</code> specifies where templates can be found.</p>
</li>
</ul>
</li>
<li><p id = "para-1067">Rendering:</p>
<ul>
<li><p id = "para-1068">Metadata can now contain Markdown and will be rendered by the renderers. This might not be a good idea for common fields (e.g. “title”), though. Use with caution.</p>
</li>
<li><p id = "para-1069"><code>rendering.inline_toc.name</code> can use <code>{{{loc_toc}}}</code> to specify a localized name.</p>
</li>
<li><p id = "para-1070">HTML:</p>
<ul>
<li><p id = "para-1071"><code>html.top</code> and <code>hstml.footer</code> are now considered as templates, so you can use some <code>{{{metadata}}}</code> in it.</p>
</li>
<li><p id = "para-1072">Improved the way footnotes are displayed.</p>
</li>
<li><p id = "para-1073">In standalone HTML, footnotes are rendered at the end of the document instead of at the end of the chapter, unless <code>html_single.one_chapter</code> is true.</p>
</li>
</ul>
</li>
<li><p id = "para-1074">LaTeX:</p>
<ul>
<li><p id = "para-1075">If <code>tex.class</code> is set to <code>article</code>, chapters will be displayed as <code>\sections</code> since <code>article</code> class doesn’t handle chapters.</p>
</li>
<li><p id = "para-1076">Except if <code>tex.class</code> is set to <code>book</code>, margins are now symmetrical.</p>
</li>
<li><p id = "para-1077">LaTex template now uses <code>version</code> and <code>date</code>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p id = "para-1078">Bugfixes:</p>
<ul>
<li><p id = "para-1079"><code>import_config</code> only import options from another book file that are not equal to the default ones and that haven’t already been set by the caller. E.g., <code>author: foo</code> then <code>import_config: bar.book</code> won’t erase the author previously set.</p>
</li>
<li><p id = "para-1080"><code>import_config</code> now correctly translates the imported book’s paths.</p>
</li>
</ul>
</li>
<li><p id = "para-1081">Crowbook program:</p>
<ul>
<li><p id = "para-1082">Still working to improve error messages.</p>
</li>
<li><p id = "para-1083"><code>crowbook --list-options</code> uses colours. This might hurt your eyes.</p>
</li>
<li><p id = "para-1084">Display an error message when mustache can’t compile a template, instead of panicking.</p>
</li>
</ul>
</li>
<li><p id = "para-1085">Internal/API:</p>
<ul>
<li><p id = "para-1086">Added static methods to <code>Logger</code> to allows displaying messages more easily/prettily.</p>
</li>
<li><p id = "para-1087">Reduce pubic API’s surface so less changes will need to be considered breaking in the future.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-144">0.8.0 (2016-09-19)</h2>
<p id = "para-1088">This release adds support for syntax higlighting in code blocks, customized top and footer blocks for HTML rendering, and the special <code>import_config</code> option that allows to import options from another book file. It also provides (hopefully) better error messages.</p>
<ul>
<li><p id = "para-1089">New options:</p>
<ul>
<li><p id = "para-1090"><code>import_config</code>is not really an option, but allows to import another configuration file, useful if you share a same set of options between multiple books.</p>
</li>
<li><p id = "para-1091"><code>use_initials</code> (set to false by default) makes Crowbook use initials (“lettrines”) at start of each chapter. Support is still experimental.</p>
</li>
<li><p id = "para-1092"><code>html.highlight_code</code> (set to true by default) allows syntax highlighting for code blocks, using highlight.js.</p>
</li>
<li><p id = "para-1093"><code>html.higlight.css</code> and <code>html.highlight.js</code> can be used to provide other themes (default is default.css) and an highlight.js build that support other languages.</p>
</li>
<li><p id = "para-1094"><code>html.footer</code> allows to specify custom footer. If not set, <code>html.crowbook_link</code> allows to disable “Generated by Crowbook” message.</p>
</li>
<li><p id = "para-1095"><code>html.top</code> allows to specify a custom header that will be displayed at the top of HTML file(s).</p>
</li>
</ul>
</li>
<li><p id = "para-1096">Deprecated options:</p>
<ul>
<li><p id = "para-1097"><code>side_notes</code> has been renamed <code>html.side_notes</code>.</p>
</li>
</ul>
</li>
<li><p id = "para-1098">Crowbook program:</p>
<ul>
<li><p id = "para-1099">All output formats are now rendered concurrently.</p>
</li>
<li><p id = "para-1100">Better error messages. Crowbook now tries to give more information when displaying an error, with the file name where a problem was found, and, in some cases, the line. It also tries to detect errors (such as files not found) sooner.</p>
</li>
<li><p id = "para-1101">Some “warning” messages have also been “moved” to error messages, to make sure they are displayed even when crowbook isn’t runned with <code>--verbose</code>.</p>
</li>
</ul>
</li>
<li><p id = "para-1102">Rendering:</p>
<ul>
<li><p id = "para-1103">Hidden chapter now produce empty <code>\chapter*{}</code> and <code>&lt;h1&gt;</code> in LaTeX and HTML. This allow to delimit a chapter break even if nothing is displayed.</p>
</li>
</ul>
</li>
<li><p id = "para-1104">Bugfixes:</p>
<ul>
<li><p id = "para-1105">Navigation menu of standalone HTML didn’t include a call to javascript when <code>html.display_chapter</code> was set to true, meaning it didn’t display the chapter correctly.</p>
</li>
<li><p id = "para-1106">Implementations of <code>Image</code> and <code>StandaloneImage</code> were reversed in LaTeX.</p>
</li>
<li><p id = "para-1107"><code>StandaloneImage</code> urls were not adjusted (meanning that running <code>crowbook</code> from another directory failed).</p>
</li>
<li><p id = "para-1108">Image paths are now found correctly in HtmlDir rendering even if <code>crowbook</code> is called from another directory (same fix as 0.6’s for Epub and LaTeX, which was forgotten for HtmlDir).</p>
</li>
</ul>
</li>
<li><p id = "para-1109">Internal/API:</p>
<ul>
<li><p id = "para-1110">In order to have better error messages, there was a need to refactor the <code>Error</code> type, and make more methods return <code>Result&lt;X&gt;</code> instead of <code>X</code>. The API is, therefore, quite modified.</p>
</li>
<li><p id = "para-1111">Added a <code>Renderer</code> trait used by the various renderers.</p>
</li>
<li><p id = "para-1112">Removed some methods from public API.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-145">0.7.0 (2016-09-11)</h2>
<p id = "para-1113">This releases renders images differently when they are on a standalone paragraph or inside a paragraph.</p>
<ul>
<li><p id = "para-1114">Internal/API:</p>
<ul>
<li><p id = "para-1115"><code>Token</code> has a new variant, <code>StandaloneImage</code>. This is used to distinguish an image that is alone in a paragraph of an image that is inlined alongside text.</p>
</li>
<li><p id = "para-1116"><code>Parser.parse</code> method now distingues between <code>Image</code> and <code>StandaloneImage</code>. Currently, an image is considered “standalone” if it is the sole element of a paragraph, even if it is among a link.</p>
</li>
<li><p id = "para-1117"><code>Token</code> has a new <code>is_image</code> method.</p>
</li>
</ul>
</li>
<li><p id = "para-1118">Rendering:</p>
<ul>
<li><p id = "para-1119">Standalone images are now rendered differently than inline images (80% of width VS original size) in HTML/EPUB and LaTeX.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-146">0.6.0 (2016-09-09)</h2>
<ul>
<li><p id = "para-1120">Deprecated options:</p>
<ul>
<li><p id = "para-1121"><code>nb_char</code>: since it was only used for french cleaner and for typography reasons it’s better to use different non breaking spaces according to context, this option was not really useful anymore.</p>
</li>
</ul>
</li>
<li><p id = "para-1122">Rendering:</p>
<ul>
<li><p id = "para-1123">Images are now displayed at 80% width of the page.</p>
</li>
</ul>
</li>
<li><p id = "para-1124">Bugfixes:</p>
<ul>
<li><p id = "para-1125">Image paths are now found correctly in LaTeX and EPUB rendering even if <code>crowbook</code> is called from another directory.</p>
</li>
<li><p id = "para-1126">Fixed a bug in <code>French</code> cleaner when a string to clean ended by a non-breaking space (space was doubled with a breaking one).</p>
</li>
<li><p id = "para-1127">LaTeX/PDF:</p>
<ul>
<li><p id = "para-1128">“Autocleaning” is now also activated (for french at least) for LaTeX rendering, since it doesn’t correctly insert non-breaking spaces for e.g. ‘«’ or ‘»’.</p>
</li>
<li><p id = "para-1129">Fixed escaping of <code>--</code> to <code>-{}-</code> to avoid tex ligatures.</p>
</li>
</ul>
</li>
<li><p id = "para-1130">HTML/EPUB:</p>
<ul>
<li><p id = "para-1131"><code>html.display_chapter</code> now defaults to <code>false</code> (e.g., by default the HTML displays the entirety of a book).</p>
</li>
<li><p id = "para-1132">Fixed rendering of lists when <code>lang</code> is set to <code>fr</code>.</p>
</li>
<li><p id = "para-1133">Links are now HTML-escaped, fixing errors in XHTML (for EPUB rendering) when links contained ‘&amp;’ character.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id = "link-147">0.5.1 (2016-04-14)</h2>
<p id = "para-1134">Mostly rendering fixes:</p>
<ul>
<li><p id = "para-1135">Epub:</p>
<ul>
<li><p id = "para-1136">Fix a validation problem when book contained hidden chapters.</p>
</li>
</ul>
</li>
<li><p id = "para-1137">French cleaner:</p>
<ul>
<li><p id = "para-1138">Use semi-cadratine space instead of cadratine space for dialogs.</p>
</li>
<li><p id = "para-1139">Use non-narrow non-breaking spapce instead of narrow one for ‘:’, ‘«’ and ‘»’ (following <a href = "https://fr.wikipedia.org/wiki/Espace_ins%C3%A9cable#En_France">https://fr.wikipedia.org/wiki/Espace_ins%C3%A9cable#En_France</a>).</p>
</li>
</ul>
</li>
<li><p id = "para-1140">HTML:</p>
<ul>
<li><p id = "para-1141">Add viewport meta tags.</p>
</li>
<li><p id = "para-1142">Standalone HTML:</p>
<ul>
<li><p id = "para-1143">Don’t display the button to display chapter and the previous/next chapter link if <code>html.display_chapter</code> is set to <code>false</code>.</p>
</li>
<li><p id = "para-1144">Fix chapter displaying when some chapters are not numbered.</p>
</li>
</ul>
</li>
<li><p id = "para-1145">Multi-files HTML:</p>
<ul>
<li><p id = "para-1146">Fix previous/next chapter display to make it consistent with standalone HTML.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id = "link-148">0.5.0 (2016-04-02)</h2>
<ul>
<li><p id = "para-1147">Crowbook now requires Rustc 1.7.0.</p>
</li>
<li><p id = "para-1148">It is now possible to render HTML in multiple files:</p>
<ul>
<li><p id = "para-1149"><code>output.html_dir</code> will activate this renderer, and specify in which directory to render these files;</p>
</li>
<li><p id = "para-1150"><code>html_dir.css</code> allows to override the CSS for this rendering;</p>
</li>
<li><p id = "para-1151"><code>html_dir.index.html</code> allows to specify a template for the <code>index.html</code> page;</p>
</li>
<li><p id = "para-1152"><code>html_dir.chapter.html</code> allows to specify a template for the chapters pages.</p>
</li>
</ul>
</li>
<li><p id = "para-1153">New book options:</p>
<ul>
<li><p id = "para-1154"><code>tex.short</code>: if set to true, the LaTeX renderer will use <code>article</code> instead of <code>book</code> as document class, and will use the default <code>\maketitle</code> command for article. This option is by default set to false, except when Crowbook is called with <code>--single</code>.</p>
</li>
<li><p id = "para-1155"><code>enable_yaml_blocks</code>: parsing YAML blocks is no longer activated by default, except when using <code>--single</code>. This is because you might want to have e.g. multiple short stories using YAML blocks to set their titles and so on, <em>and</em> a separate <code>.book</code> file to render a book as a collection of short stories. In this case, you wouldn’t want the displayed title or the output.pdf/html/epub files be redefined by the short stories .md files.</p>
</li>
<li><p id = "para-1156"><code>html.print_css</code>: allows to specify a stylesheet for media print</p>
</li>
<li><p id = "para-1157"><code>html.display_chapter</code>: displays one chapter at a time in standalone HTML</p>
</li>
<li><p id = "para-1158"><code>html.script</code>: allows to specify a custom javascript file for standalone HTML</p>
</li>
<li><p id = "para-1159"><code>html_dir.script</code>: same thing for multipage HTML</p>
</li>
<li><p id = "para-1160"><code>resources.base_path</code>: by default, Crowbook resolves local links in markdown files relatively to the markdown file. This option allows to resolve them relatively to a base path. This option comes with two variants, <code>resources.base_path.images</code> and <code>resources.base_path.links</code>, which only activate it for respectively images tags and links tags. These two options are ignored when <code>base_path</code> is set. There is also <code>resources.base_path.files</code> which specify where additional files (see below) should be read, but this is one is set to <code>.</code> (i.e., the directory where the <code>.book</code> file is) by default.</p>
</li>
<li><p id = "para-1161"><code>resources.files</code>: indicate a (whitespace-separated) list of files that should be embedded. Currently only used with the EPUB renderer.</p>
</li>
<li><p id = "para-1162"><code>resources.out_path</code>: indicate where <code>resources.files</code> should be copied in the final document. Default to <code>data</code>, meaning that files will be placed in a <code>data</code> directory in the EPUB.</p>
</li>
</ul>
</li>
<li><p id = "para-1163">Rendering:</p>
<ul>
<li><p id = "para-1164">Templates can now use localized strings according to the <code>lang</code> option</p>
</li>
<li><p id = "para-1165">Standalone HTML now includes locale files using base64.</p>
</li>
<li><p id = "para-1166">Standalone HTML displays one chapter at a time, thouht it can be changed via a button in the menu.</p>
</li>
<li><p id = "para-1167">HTML/EPUB: default CSS now uses the <code>lang</code> value do determine how to display lists (currently the only difference is it uses “–” when <code>lang</code> is set to “fr” and standard bullets for other languages).</p>
</li>
</ul>
</li>
<li><p id = "para-1168">Bugfixes:</p>
<ul>
<li><p id = "para-1169">Fixed a bug of filename “resolution” when Crowbook was called with <code>--single</code> (e.g., <code>crowbook -s tests/test.md</code> would previously try to load `tests/tests/test.md).</p>
</li>
<li><p id = "para-1170">Epub renderer now uses the <code>mime_guess</code> library to guess the mime type based on extension, which should fix the mime type guessed for a wide range of extensions (e.g., svg).</p>
</li>
</ul>
</li>
<li><p id = "para-1171">Internal/API:</p>
<ul>
<li><p id = "para-1172">The <code>Book::new</code>, <code>new_from_file</code>, and <code>new_from_markdown_file</code> take an additional <code>options</code> parameter. To create a book with default options, set it to <code>&amp;[]</code>.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-149">0.4.0 (2016-03-01)</h2>
<ul>
<li><p id = "para-1173">Crowbook now internally uses a true YAML parser, <code>yaml_rust</code>, for its options. Since the “old” Crowbooks’s config format was similar, but had some subtle differences, this is somewhat of a breaking change:</p>
<ul>
<li><p id = "para-1174">strings should now be escaped with “” in some cases (e.g. if it contains special characters). On the other hand, it <em>allows</em> to optionally escape a string with these quotes, which wasn’t possible until then and might be useful in some cases.</p>
</li>
<li><p id = "para-1175">multiline strings now follow the YAML format, instead of the previous “YAML-ish” format. This can impact the way newlines are added at the end of a multiline string. See e.g. <a href = "http://stackoverflow.com/questions/3790454/in-yaml-how-do-i-break-a-string-over-multiple-lines">this link</a> for the various ways to include mulitiline strings in Yaml.</p>
</li>
</ul>
</li>
<li><p id = "para-1176">Crowbook now parses YAML blocks (delimited by two lines with “---”) in Markdown files, ignoring keys that it doesn’t recognize. This allows crowbook to be compatible(-ish) with Markdown that contains YAML blocks for Jekyll or Pandoc.</p>
</li>
<li><p id = "para-1177">New option <code>--single</code> allows to give Crowbook a single Markdown file (which can contain options within an inline YAML block) instead of a book configuration file. This is useful for e.g. short stories.</p>
</li>
<li><p id = "para-1178">Enhanced the way debugging/warning/info messages are handled and displayed:</p>
<ul>
<li><p id = "para-1179">Added a <code>--debug</code> option to the binary.</p>
</li>
<li><p id = "para-1180">Internal: added a <code>Logger</code> struct.</p>
</li>
<li><p id = "para-1181">Different levels of information (debug/warning/info/error) get different colours.</p>
</li>
</ul>
</li>
<li><p id = "para-1182">Bugfixes:</p>
<ul>
<li><p id = "para-1183">Crowbook no longer crashes when called with the <code>--to</code> argument if it can’t create a file.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-150">0.3.0 (2016-02-27)</h2>
<ul>
<li><p id = "para-1184">Crowbook now tries to convert local links. That is, if you link to a Markdown file that is used in the book. (e.g. <a href = "chapter_000.html">README.md</a>), it <em>should</em> link to an appropriate inner reference inside the book.</p>
</li>
<li><p id = "para-1185">Latex renderer now supports (local) images.</p>
</li>
<li><p id = "para-1186">Epub renderer now embed (local) images in the EPUB file.</p>
</li>
<li><p id = "para-1187">Some changes to the HTML/Epub stylesheets.</p>
</li>
<li><p id = "para-1188">Internal (or usage as a library):</p>
<ul>
<li><p id = "para-1189">Crowbook no longer changes current directory, which worked in the binary but could cause problem if library was used in multithreaded environment (e.g. in <code>cargo test</code>).</p>
</li>
<li><p id = "para-1190">More modules and methods are now private.</p>
</li>
<li><p id = "para-1191">Improved documentation.</p>
</li>
<li><p id = "para-1192">Added more unit tests.</p>
</li>
</ul>
</li>
<li><p id = "para-1193">Bugfixes:</p>
<ul>
<li><p id = "para-1194">Epub renderer now correctly renders unnumbered chapter without a number in its toc.ncx file</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-151">0.2.2 (2016-02-25)</h2>
<ul>
<li><p id = "para-1195">Bugfixes:</p>
<ul>
<li><p id = "para-1196">French cleaner now correctly replaces space after — (in e.g. dialogs) with “em space”.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-152">0.2.1 (2016-02-25)</h2>
<ul>
<li><p id = "para-1197">Bugfixes:</p>
<ul>
<li><p id = "para-1198">HTML/Epub rendering no longer incorrectly increment chapter count for unnumbered chapters.</p>
</li>
<li><p id = "para-1199">Latex: makes what is possible to avoid orverflowing the page.</p>
</li>
</ul>
</li>
<li><p id = "para-1200">Minor changes:</p>
<ul>
<li><p id = "para-1201">Latex: improvement of the default way URLs are displayed.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-153">0.2.0 (2016-02-25)</h2>
<ul>
<li><p id = "para-1202">Command line arguments:</p>
<ul>
<li><p id = "para-1203">New argument <code>--print-template</code> now allows to print a built-in template to stdout.</p>
</li>
<li><p id = "para-1204">New argument <code>--list-options</code> prints out all valid options in a config file (or in <code>set</code>), their type and default value.</p>
</li>
<li><p id = "para-1205">New argument <code>--set</code> allows to define or override whatever option set in a book configuration.</p>
</li>
<li><p id = "para-1206"><code>--create</code> can now be used without specifying a <code>BOOK</code>, printing its result on <code>stdout</code>.</p>
</li>
</ul>
</li>
<li><p id = "para-1207">Configuration file:</p>
<ul>
<li><p id = "para-1208">Added support for multiline strings in <code>.book</code> files, with either ‘|’ (preserving line returns) or ‘&gt;’ (transforming line returns in spaces)</p>
</li>
<li><p id = "para-1209">New option <code>display_toc</code> allows to display the table of contents (whose name, at least for HTML, is specified by <code>toc_name</code>) in HTML and PDF documents.</p>
</li>
<li><p id = "para-1210">Option <code>numbering</code> now takes an int instead of a boolean, allowing to specify the maximum level to number (e.g. <code>1</code>: chapters only, <code>2</code>: chapters and sectino, ..., <code>6</code>: everything).</p>
</li>
</ul>
</li>
<li><p id = "para-1211">Rendering:</p>
<ul>
<li><p id = "para-1212">Added support for numbering all headers, not just level-1 (e.g., having a subsection numbered <code>2.3.1</code>).</p>
</li>
<li><p id = "para-1213">Tables and Footnotes are now implemented for HTML/Epub and LaTeX output.</p>
</li>
</ul>
</li>
<li><p id = "para-1214">Internal:</p>
<ul>
<li><p id = "para-1215">Refactored <code>Book</code> to use an HashMap of <code>BookOption</code>s instead of having like 42 fields.</p>
</li>
</ul>
</li>
</ul>
<h2 id = "link-154">0.1.0 (2016-02-21)</h2>
<ul>
<li><p id = "para-1216">initial release</p>
</li>
</ul>

      <p class = "next_chapter">
  <a href = "chapter_010.html">
    GNU LESSER GENERAL PUBLIC LICENSE »
  </a>
</p>
    </div>
    <footer id = "footer"><p id = "para-1293">Generated by <a href = "https://github.com/lise-henry/crowbook">Crowbook</a> 0.15.0-unreleased</p>
</footer>
  </div>
  </body>
</html>
